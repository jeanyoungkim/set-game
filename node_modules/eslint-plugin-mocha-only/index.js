module.exports = {
  rules: {
    'mocha-only': function(context) {
      'use strict';
      return {
        'Identifier': function(node) {
          if (node.name === 'only' && (
              node.parent.object.name === 'describe' ||
              node.parent.object.name === 'it')) {
            context.report(
                node, 'Test code contains a .only()', {identifier: node.name});
          }
        }
      };

    }
  },
  rulesConfig: {
     'mocha-only': 2
  }
};
